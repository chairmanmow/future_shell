; ======================================================================
; IconShell / GuiShell Configuration
; ----------------------------------------------------------------------
; This file customizes the dynamic menu for the IconShell GUI.
; If this file (guishell.ini) is missing or has errors, the shell
; falls back to a builtâ€‘in static menu (see config.js).
;
; BASIC STRUCTURE:
;   [GuiShell]          Optional global shell settings
;   [Menu]              Defines ordering of top-level menu items
;   [Item.<key>]        One section per menu entry specified in Menu.items
;                       <key> is a short identifier used only internally.
;
; TOP-LEVEL ITEM TYPES (Item.<key> / type=...):
;   builtin        -> Built-in action. Requires: builtin = chat|settings|exit
;   xtrn_section   -> Dynamically lists external programs in a section.
;                     Requires: section = <number>  (0 = first xtrn section)
;   command        -> A single clickable action. Requires: command = <spec>
;   who            -> Dynamic folder showing currently online users
;
; COMMAND SPEC (when type=command):
;   command = exec_xtrn:CODE      Launch external program CODE (e.g. ECREADER)
;   command = js: <JavaScript>    Inline JS executed in shell context (this=IconShell instance)
;                                  Keep it short; errors are logged, item skipped if invalid.
;
; ICONS:
;   icon = <basename>
;   Looks for mods/iconshell/lib/icons/<basename>.ans (or .bin). If missing,
;   the shell may fall back to default styling.
;
; ORDERING:
;   The comma-separated list in [Menu] items=... dictates the visual order.
;   Removing an identifier or misspelling it simply omits that item (warning logged).
;
; ERROR HANDLING / SAFETY:
;   - Unknown types or missing required keys are logged (warning) and skipped.
;   - If all items fail to load, static fallback is used.
;   - Builtin names must match those implemented in config.js (chat, settings, exit).
;
; ADDING A NEW CUSTOM JS ITEM EXAMPLE:
;   1) Add its key to [Menu] items list, e.g. ... ,mytool
;   2) Create section:
;        [Item.mytool]
;        type = command
;        label = My Tool
;        icon = folder
;        command = js: this.runExternal(function(){ bbs.sys_status |= 0; });
;
; NOTES:
;   - xtrn_section numbering matches Synchronet external program sections (0-based here).
;   - 'who' item dynamically rebuilds when opened (shows online users).
;   - WelcomeMessage can be displayed/logged by guishell.js on startup.
; ======================================================================

[GuiShell]
; Optional startup banner text (purely cosmetic right now)
WelcomeMessage = Hello from guishell.ini
; time to show screensaver in seconds, set to -1 to disable
inactivity_seconds = 120

; Screensaver configuration lives in an optional [Screensaver] section.
; Available animations include: matrix_rain, tv_static, life, avatars_float,
; starfield, fireflies, sine_wave, comet_trails, fireworks, aurora, plasma,
; fire_smoke, ocean_ripple, lissajous, lightning, tunnel, figlet_message (plus any others you register).
; unused [i dont like em] fireflies, comet_trails, fire_smoke,fireworks,lightning,lissajous,sine_wave,starfield,
[Screensaver]
animations = aurora,figlet_message,life,ocean_ripple,tunnel,plasma,avatars_float,tv_static,matrix_rain
switch_interval = 60
fps = 4
random = false
clear_on_switch = true
life.density = 0.25


[Menu]
; Comma-separated order of top-level menu entries. Each must have a matching [Item.<key>] section.
; Reorder to taste; remove to hide; add new keys after defining new [Item.*] sections.
items = mail,msg_boards,chat,games_1,apps,users,filearea,settings,tests,sysop,exit

[Item.chat]
; Built-in chat client launcher
type = builtin
builtin = chat
label = Chat
icon = chat3

[Item.usage_viewer]
type = builtin
builtin = usage_viewer
label = Usage
icon = stats

; todo make more xtrns
[Item.games_folder]
; Built-in user settings editor
type = folder
items = games_1,old_school_games
label = Games
icon = gameboy

[Item.games_1]
; External programs section #1 (2nd section if counting from 1)
type = xtrn_section
section = 1
label = Games
icon = gameboy

[Item.old_school_games]
; External programs section #1 (2nd section if counting from 1)
type = xtrn_section
section = 3
label = Old School Games
icon = gameboy

[Item.apps]
; External programs section #0 (first external section)
type = xtrn_section
section = 0
label = Apps
icon = apps_folder

[Item.sysop]
; Sysop / admin-only external programs section (#2)
type = xtrn_section
section = 2
label = Sysop
icon = macplus
; user.security.level
min_level = 90
; TODO user.is_sysop
; is_sysop = true 
; TODO bbs.compare_ars(requirements)
;compare_ars = bbs.compare_ars(requirements)

[Item.msg_boards]
type = builtin
label = Forums
builtin = msg_boards
icon = bulletin_board

[Item.newsreader]
type = builtin
label = News Reader
builtin = newsreader
icon = alien

[Item.irc_chat]
type = builtin
label = IRC CHAT
builtin = irc_chat
icon = chat

[Item.who]
; Dynamic list of currently online users
type = builtin
label = Who
builtin = who_list
icon = people

[Item.settings]
; Built-in user settings editor
type = folder
items = sync_user_settings,avatar_choose,msg_scan_config,sysop_commands
label = Settings
icon = server

[Item.sync_user_settings]
type = builtin
builtin = user_settings
label = Settings
icon = user_settings

[Item.msg_scan_config]
; Built-in message scan configuration
type = builtin
builtin = msg_scan_config
label = ScanConfig
icon = search

[Item.avatar_choose]
; Launch external file viewer (AVATCHOO)
type = command
command = exec_xtrn:AVATCHOO
label = Choose Avatar
icon = brown_cat

[Item.doomb]
; Launch external file viewer (AVATCHOO)
type = command
command = exec_xtrn:DOOMB
label = DOOMB
icon = legion

[Item.sysop_commands]
; Sysop / admin-only external programs section (#2)
type = builtin
builtin = sysop_commands
min_level = 90
label = Sysop
icon = macplus

[Item.tests]
; A folder grouping experimental / test subprograms
type = folder
items = newsreader,usage_viewer,sysinfo,irc_chat,doomb,privatemsg,hello,userlist,calendar,clock,rawgate
label = Tests
icon = lab

[Item.privatemsg]
type = builtin
builtin = privatemsg
label = Private Message
icon = chat

[Item.hello]
type = builtin
builtin = hello
label = Hello
icon = document

[Item.userlist]
type = builtin
builtin = userlist
label = User List
icon = group

[Item.users]
type = builtin
builtin = users
label = UserZ
icon = group

[Item.sysinfo]
type = builtin
builtin = sysinfo
label = Sys Info
icon = macplus

[Item.filearea]
type = builtin
builtin = filearea
label = File Areas
icon = floppy_disk_icon_final

[Item.calendar]
type = builtin
builtin = calendar
label = Calendar
icon = calendar

[Item.clock]
type = builtin
builtin = clock
label = Clock
icon = clock

[Item.rawgate]
type = builtin
builtin = rawgate
label = Rawgate
icon = redman

[Item.mail]
type = builtin
builtin = mail
label = Mail
icon = mailbox

[Item.exit]
; Exit back to the BBS / previous shell
type = builtin
builtin = exit
label = Logoff
icon = logoff

; ----------------------------------------------------------------------
; OPTIONAL COLOR OVERRIDES
; Define custom UI colors without editing config.js.  Section name must
; be exactly [Colors].  Keys are case-insensitive. Supported forms:
;   GROUP = BG_COLOR,FG_COLOR        ; set both background & foreground
;   GROUP.BG = BG_COLOR              ; set only background
;   GROUP.FG = FG_COLOR              ; set only foreground
;   GROUP_BG = BG_COLOR              ; underscore alternative
;   GROUP_FG = FG_COLOR              ; underscore alternative
;   ANIMATION = COLOR                ; shorthand for ANIMATION.COLOR
;   ANIMATION.COLOR = COLOR          ; set animation accent color
; COLOR tokens can be Synchronet constants (e.g. BLUE, CYAN, WHITE) with
; or without BG_ for backgrounds (BG_BLUE or BLUE both ok for BG).
; You can also use numeric attribute values. Unknown tokens are ignored.
; Built-in groups presently: ROOT, VIEW, CRUMB, SELECTED, LABEL, UPITEM,
; MOUSE_ON, MOUSE_OFF, ANIMATION (COLOR), EXTERNAL_BG, EXTERNAL_FG.
; Example (uncomment to customize):

[Colors]
; --- Shell Core ---
ROOT = BG_BLACK,WHITE
VIEW = BG_BLACK,LIGHTGRAY
CRUMB = BG_BLUE,WHITE
SELECTED = BG_MAGENTA,WHITE
LABEL = BG_BLACK,LIGHTGRAY
UPITEM = BG_LIGHTGRAY,BLACK
MOUSE_ON = BG_BLUE,WHITE
MOUSE_OFF = BG_RED,WHITE
ANIMATION.COLOR = GREEN
EXTERNAL_BG = BG_BLACK
EXTERNAL_FG = LIGHTGRAY
;
; --- Generic / Shared ---
FRAME_STANDARD = BG_BLACK,LIGHTGRAY
STATUS_BAR = BG_BLUE,WHITE
INPUT_BAR = BG_BLUE,WHITE
HEADER_BAR = BG_BLUE,WHITE
FOOTER_BAR = BG_BLUE,WHITE
SELECTION_INVERT = BG_LIGHTGRAY,BLACK
HILITE_CYAN = BG_CYAN,WHITE
POPUP_FRAME = BG_BLACK,WHITE
POPUP_CONTENT = BG_BLACK,LIGHTGRAY
MODAL_FRAME = BG_BLUE,WHITE
MODAL_LEFT_PANEL = BG_CYAN,LIGHTGRAY
MODAL_RIGHT_PANEL = BG_BLUE,LIGHTGRAY
;
; --- Users / Who ---
USERS_LIST = BG_BLACK,LIGHTGRAY
USERS_STATUS = BG_BLUE,WHITE
USERS_MODAL = BG_BLUE,WHITE
USERS_MODAL_AVATAR = BG_BLUE,WHITE
WHOS_LIST = BG_BLACK,LIGHTGRAY
WHOS_STATUS = BG_BLUE,WHITE
WHOS_TILE_BG = BG_BLACK,LIGHTGRAY
WHOS_TILE_BG_SELECTED = BG_LIGHTGRAY,BLACK
WHOS_TILE_HEADER = BG_BLUE,WHITE
WHOS_TILE_HEADER_SELECTED = BG_LIGHTGRAY,BLACK
WHOS_TILE_NAME = BG_BLUE,WHITE
WHOS_TILE_NAME_SELECTED = BG_LIGHTGRAY,BLACK
WHOS_TILE_FOOTER = BG_BLUE,WHITE
WHOS_MODAL = BG_BLUE,WHITE
WHOS_MODAL_LEFT = BG_CYAN,LIGHTGRAY
WHOS_MODAL_RIGHT = BG_BLUE,LIGHTGRAY
;
; --- Message Boards ---
MB_OUTPUT = BG_BLACK,LIGHTGRAY
MB_INPUT = BG_BLUE,WHITE
MB_READ_HEADER = BG_BLUE,WHITE
MB_READ_BODY = BG_BLACK,LIGHTGRAY
MB_LABEL = BG_BLACK,LIGHTGRAY
MB_LABEL_SELECTED = BG_LIGHTGRAY,BLACK
MB_ICON_MOD = BG_RED,WHITE
MB_ICON_SECTION = BG_BLUE,WHITE
MB_ICON_SYS = BG_GREEN,WHITE
MB_ICON_MISC = BG_CYAN,WHITE
;
; --- Mail ---
MAIL_OUTPUT = BG_BLACK,LIGHTGRAY
MAIL_INPUT = BG_BLUE,WHITE
MAIL_PROMPT_GUIDE = BG_BLACK,MAGENTA
MAIL_PROMPT_LABEL = BG_BLACK,YELLOW
MAIL_PROMPT_FIELD = BG_BLUE,WHITE
MAIL_ICON = BG_BLACK,LIGHTGRAY
MAIL_ICON_SELECTED = BG_BLUE,WHITE
;
; --- File Area ---
FILE_HEADER = BG_BLUE,WHITE
FILE_FOOTER = BG_BLUE,WHITE
FILE_LIST = BG_BLACK,LIGHTGRAY
FILE_LIST_ACTIVE = BG_CYAN,WHITE
FILE_LIST_INACTIVE = BG_BLACK,LIGHTGRAY
FILE_POPUP = BG_BLACK,WHITE
FILE_POPUP_CONTENT = BG_BLACK,LIGHTGRAY
;
; --- Calendar ---
CAL_HEADER = BG_BLUE,WHITE
CAL_FOOTER = BG_BLUE,WHITE
CAL_GRID = BG_BLACK,LIGHTGRAY
CAL_DAY_SELECTED = BG_CYAN,WHITE
CAL_DAY_TODAY = BG_BLUE,WHITE
CAL_DAY_HOLIDAY = BG_GREEN,WHITE
CAL_DAY_NORMAL = BG_BLACK,LIGHTGRAY
;
; --- Chat / Generic Text Subs ---
CHAT_OUTPUT = BG_BLACK,LIGHTGRAY
CHAT_INPUT = BG_BLUE,WHITE
PRIVMSG_OUTPUT = BG_BLACK,LIGHTGRAY
PRIVMSG_INPUT = BG_BLUE,WHITE
IRC_LIST = BG_BLACK,LIGHTGRAY
IRC_STATUS = BG_BLUE,WHITE
RAW_OUTPUT = BG_BLACK,LIGHTGRAY
RAW_INPUT = BG_BLUE,WHITE
SYSINFO_OUTPUT = BG_BLACK,LIGHTGRAY
SYSINFO_INPUT = BG_BLUE,WHITE
HELLO_OUTPUT = BG_BLACK,LIGHTGRAY
HELLO_INPUT = BG_BLUE,WHITE
;
; --- Toast ---
TOAST_FRAME = BG_BLACK,LIGHTGRAY
TOAST_MSG = BG_MAGENTA,WHITE
TOAST_AVATAR = BG_BLACK,WHITE
;
; --- Clock ---
CLOCK_BG = BG_BLACK,LIGHTGRAY
;
; --- Matrix Rain ---
RAIN_HEAD = BG_BLACK,LIGHTGREEN
RAIN_FADE_HIGH = BG_BLACK,GREEN
RAIN_SPARK = BG_BLACK,WHITE
RAIN_DIM1 = BG_BLACK,LIGHTGRAY
RAIN_DIM2 = BG_BLACK,DARKGRAY
; ----------------------------------------------------------------------
