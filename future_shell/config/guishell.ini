; ======================================================================
; IconShell / GuiShell Configuration
; ----------------------------------------------------------------------
; This file customizes the dynamic menu for the IconShell GUI.
; If this file (guishell.ini) is missing or has errors, the shell
; falls back to a builtâ€‘in static menu (see config.js).
;
; BASIC STRUCTURE:
;   [GuiShell]          Optional global shell settings
;   [Menu]              Defines ordering of top-level menu items
;   [Item.<key>]        One section per menu entry specified in Menu.items
;                       <key> is a short identifier used only internally.
;
; TOP-LEVEL ITEM TYPES (Item.<key> / type=...):
;   builtin        -> Built-in action. Requires: builtin = chat|settings|exit
;   xtrn_section   -> Dynamically lists external programs in a section.
;                     Requires: section = <number>  (0 = first xtrn section)
;   command        -> A single clickable action. Requires: command = <spec>
;   who            -> Dynamic folder showing currently online users
;
; COMMAND SPEC (when type=command):
;   command = exec_xtrn:CODE      Launch external program CODE (e.g. ECREADER)
;   command = js: <JavaScript>    Inline JS executed in shell context (this=IconShell instance)
;                                  Keep it short; errors are logged, item skipped if invalid.
;
; ICONS:
;   icon = <basename>
;   Looks for mods/iconshell/lib/icons/<basename>.ans (or .bin). If missing,
;   the shell may fall back to default styling.
;
; ORDERING:
;   The comma-separated list in [Menu] items=... dictates the visual order.
;   Removing an identifier or misspelling it simply omits that item (warning logged).
;
; ERROR HANDLING / SAFETY:
;   - Unknown types or missing required keys are logged (warning) and skipped.
;   - If all items fail to load, static fallback is used.
;   - Builtin names must match those implemented in config.js (chat, settings, exit).
;
; ADDING A NEW CUSTOM JS ITEM EXAMPLE:
;   1) Add its key to [Menu] items list, e.g. ... ,mytool
;   2) Create section:
;        [Item.mytool]
;        type = command
;        label = My Tool
;        icon = folder
;        command = js: this.runExternal(function(){ bbs.sys_status |= 0; });
;
; NOTES:
;   - xtrn_section numbering matches Synchronet external program sections (0-based here).
;   - 'who' item dynamically rebuilds when opened (shows online users).
;   - WelcomeMessage can be displayed/logged by guishell.js on startup.
; ======================================================================

[GuiShell]
; Optional startup banner text (purely cosmetic right now)
WelcomeMessage = Hello from guishell.ini
; time to show screensaver in seconds, set to -1 to disable
inactivity_seconds = 180

; Screensaver configuration lives in an optional [Screensaver] section.
; Available animations include: matrix_rain, tv_static, life, avatars_float,
; starfield, fireflies, sine_wave, comet_trails, fireworks, aurora, plasma,
; fire_smoke, ocean_ripple, lissajous, lightning, tunnel, figlet_message (plus any others you register).
[Screensaver]
animations = aurora,figlet_message,life,ocean_ripple,tunnel,plasma,avatars_float,tv_static,matrix_rain
switch_interval = 60
fps = 4
random = false
clear_on_switch = true
life.density = 0.25
disabled = fireflies,fireworks,lissajous,sine_wave,starfield


[Menu]
; Comma-separated order of top-level menu entries. Each must have a matching [Item.<key>] section.
; Reorder to taste; remove to hide; add new keys after defining new [Item.*] sections.
items = msg_boards,users,newsreader,usage_viewer,games_1,apps,mail,chat,mrc,filearea,tests,sysop,sysinfo,settings,telnet_gateway,exit

[Item.chat]
; Built-in chat client launcher
type = builtin
builtin = chat
label = Chat
icon = json_chat_lda

[Item.mrc]
; Built-in chat client launcher
type = builtin
builtin = mrc
label = MultiRelayChat
icon = chat_lda

[Item.usage_viewer]
type = builtin
builtin = usage_viewer
label = Popular
icon = heart_normal

[Item.telnet_gateway]
; Built-in chat client launcher
type = builtin
builtin = telnet_gateway
label = Gateways
icon = telgate

; todo make more xtrns
[Item.games_folder]
; Built-in user settings editor
type = folder
items = games_1,old_school_games
label = Games
icon = gameboy

[Item.games_1]
; External programs section #1 (2nd section if counting from 1)
type = xtrn_section
section = 1
label = Games
icon = gameboy

[Item.old_school_games]
; External programs section #1 (2nd section if counting from 1)
type = xtrn_section
section = 3
label = Old School Games
icon = gameboy

[Item.apps]
; External programs section #0 (first external section)
type = xtrn_section
section = 0
label = Apps
icon = apps

[Item.shell_prefs]
; Built-in shell preferences editor
type = builtin
builtin = shell_prefs
label = Shell Preferences
icon = alert

[Item.sysop]
; Sysop / admin-only external programs section (#2)
type = xtrn_section
section = 2
label = Sysop
icon = sysop
; user.security.level
min_level = 90
; TODO user.is_sysop
; is_sysop = true 
; TODO bbs.compare_ars(requirements)
;compare_ars = bbs.compare_ars(requirements)

[Item.msg_boards]
type = builtin
label = Forums
builtin = msg_boards
icon = forum_lda

[Item.newsreader]
type = builtin
label = News Reader
builtin = newsreader
icon = newsitems

[Item.irc_chat]
type = builtin
label = IRC CHAT
builtin = irc_chat
icon = irc

[Item.settings]
; Built-in user settings editor
type = folder
items = shell_prefs,sync_user_settings,avatar_choose,msg_scan_config,sysop_commands
label = Settings
icon = gear

[Item.sync_user_settings]
type = builtin
builtin = user_settings
label = Settings
icon = user_settings

[Item.msg_scan_config]
; Built-in message scan configuration
type = builtin
builtin = msg_scan_config
label = ScanConfig
icon = search

[Item.avatar_choose]
; Launch external file viewer (AVATCHOO)
type = command
command = exec_xtrn:AVATCHOO
label = Choose Avatar
icon = AVATCHOO

[Item.doomb]
; Launch external file viewer (AVATCHOO)
type = command
command = exec_xtrn:DOOMB
label = DOOMB
icon = legion

[Item.outrun]
; Launch external file viewer (AVATCHOO)
type = command
command = exec_xtrn:OUTRUN
label = OUTRUN
icon = outrun

[Item.sysop_commands]
; Sysop / admin-only external programs section (#2)
type = builtin
builtin = sysop_commands
min_level = 90
label = Sysop
icon = macplus

[Item.resource_editor]
; Built-in resource editor
type = builtin
builtin = resource_editor
label = Resource Editor
icon = resedit

[Item.tests]
; A folder grouping experimental / test subprograms
type = folder
items = resource_editor,irc_chat,outrun,doomb,privatemsg,hello,userlist,calendar,clock,rawgate
label = Tests
icon = fire

[Item.privatemsg]
type = builtin
builtin = privatemsg
label = Private Message
icon = chat

[Item.hello]
type = builtin
builtin = hello
label = Hello
icon = alien

[Item.userlist]
type = builtin
builtin = userlist
label = User List
icon = group

[Item.users]
type = builtin
builtin = users
label = UserZ
icon = smiley

[Item.sysinfo]
type = builtin
builtin = sysinfo
label = Sys Info
icon = sysinfo

[Item.filearea]
type = builtin
builtin = filearea
label = File Areas
icon = floppy_disk_icon_final

[Item.calendar]
type = builtin
builtin = calendar
label = Calendar
icon = calendar

[Item.clock]
type = builtin
builtin = clock
label = Clock
icon = clock

[Item.rawgate]
type = builtin
builtin = rawgate
label = Rawgate
icon = redman

[Item.mail]
type = builtin
builtin = mail
label = Mail
icon = mailbox

[Item.exit]
; Exit back to the BBS / previous shell
type = builtin
builtin = exit
label = Logoff
icon = exit

; ----------------------------------------------------------------------
; OPTIONAL COLOR OVERRIDES
; Define custom UI colors without editing config.js.  Section name must
; be exactly [Colors].  Keys are case-insensitive. Supported forms:
;   GROUP = BG_COLOR,FG_COLOR        ; set both background & foreground
;   GROUP.BG = BG_COLOR              ; set only background
;   GROUP.FG = FG_COLOR              ; set only foreground
;   GROUP_BG = BG_COLOR              ; underscore alternative
;   GROUP_FG = FG_COLOR              ; underscore alternative
;   ANIMATION = COLOR                ; shorthand for ANIMATION.COLOR
;   ANIMATION.COLOR = COLOR          ; set animation accent color
; COLOR tokens can be Synchronet constants (e.g. BLUE, CYAN, WHITE) with
; or without BG_ for backgrounds (BG_BLUE or BLUE both ok for BG).
; You can also use numeric attribute values. Unknown tokens are ignored.
; Built-in groups presently: ROOT, VIEW, CRUMB, SELECTED, LABEL, UPITEM,
; MOUSE_ON, MOUSE_OFF, ANIMATION (COLOR), EXTERNAL_BG, EXTERNAL_FG.
; Example (uncomment to customize):

; Color customisation has moved to theme.ini ([Colors] section).
